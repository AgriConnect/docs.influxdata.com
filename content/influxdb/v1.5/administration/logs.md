---
title: Logging in InfluxDB

menu:
  influxdb_1_5:
    name: Logging
    weight: 10
    parent: administration
---

On this page

* [Logging locations](#logging-locations)
* [Logging output formats](#logging-output-formats)

InfluxDB writes log output, by default, to `stderr`.
Depending on your use case, this log information can be written to another location.

## Logging locations

### Running InfluxDB directly

If you run InfluxDB directly, using `influxd`, all logs will be written to `stderr`.
You may redirect this log output as you would any output to `stderr` like so:

```bash
influxd 2>$HOME/my_log_file
```

### Launched as a service

#### sysvinit

If InfluxDB was installed using a prebuilt package, and then launched
as a service, `stderr` is redirected to `/var/log/influxdb/influxd.log`, and all log data will be written to that file.
You can override this location by setting the variable `STDERR` in the file `/etc/default/influxdb`.

>**Note:** Mac OS X logs are stored, by default, in the file `/usr/local/var/log/influxdb.log`.

For example, if `/etc/default/influxdb` contains:

```bash
STDERR=/dev/null
```

all log data will be discarded.  You can similarly direct output to
`stdout` by setting `STDOUT` in the same file.  Output to `stdout` is
sent to `/dev/null` by default when InfluxDB is launched as a service.

InfluxDB must be restarted to pick up any changes to `/etc/default/influxdb`.

#### systemd

Starting with version 1.0, InfluxDB on `systemd` systems will no longer
write files to `/var/log/influxdb` by default, and will now use the
system configured default for logging (usually `journald`).  On most
systems, the logs will be directed to the `systemd` journal and can be
accessed with the command:

```
sudo journalctl -u influxdb.service
```

Please consult the systemd journald documentation for configuring
journald.

### Using logrotate

You can use [logrotate](http://manpages.ubuntu.com/manpages/hardy/man8/logrotate.8.html) to rotate the log files generated by InfluxDB on systems where logs are written to flat files.
If using the package install on a sysvinit system, the config file for logrotate is installed in `/etc/logrotate.d`.
You can view the file [here](https://github.com/influxdb/influxdb/blob/master/scripts/logrotate).

## Logging output

Prior to InfluxDB 1.5, logging configuration options were not available. Starting in InfluxDB 1.5, logging has changed and includes the following logging options:

* format: `auto` (default) | `logfmt` | `json`
* level: `error` | `warn` | `info` (default) | `debug`
* suppress-logo: `false` (default) | `true`

### Logging formats

Two of the new formats, `logfmt` and `json`, are machine-readable and provide easier filtering and searching with external tools. These formats also make it easier to integrate with Elasticsearch, Splunk, Papertrail, and other tools.

With the default logging format setting of `auto`, logging is managed automatically as follows:

* When logging to a file, the `logfmt` is used and when logging to a TTY device (for example, a terminal).
* When logging to a TTY (e.g., a terminal), a user-friendly console format is used.

The `json` format, which is machine-readable and more developer-friendly, is available only as an explicit option.

### Examples of log output:

**Logfmt**

```
ts=2018-02-20T22:48:11.291815Z lvl=info msg="InfluxDB starting" version=unknown branch=unknown commit=unknown
ts=2018-02-20T22:48:11.291858Z lvl=info msg="Go runtime" version=go1.10 maxprocs=8
ts=2018-02-20T22:48:11.291875Z lvl=info msg="Loading configuration file" path=/Users/user_name/.influxdb/influxdb.conf
```

**JSON**

```
{"lvl":"info","ts":"2018-02-20T22:46:35Z","msg":"InfluxDB starting, version unknown, branch unknown, commit unknown"}
{"lvl":"info","ts":"2018-02-20T22:46:35Z","msg":"Go version go1.10, GOMAXPROCS set to 8"}
{"lvl":"info","ts":"2018-02-20T22:46:35Z","msg":"Using configuration at: /Users/user_name/.influxdb/influxdb.conf"}
```

**Console/TTY**

```
2018-02-20T22:55:34.246997Z     info    InfluxDB starting       {"version": "unknown", "branch": "unknown", "commit": "unknown"}
2018-02-20T22:55:34.247042Z     info    Go runtime      {"version": "go1.10", "maxprocs": 8}
2018-02-20T22:55:34.247059Z     info    Loading configuration file      {"path": "/Users/user_name/.influxdb/influxdb.conf"}
```


### Logging levels

The `level` option determines which level of logs will be emitted. Available levels are `error`, `warn`, `info` (default), and `debug`. Logs that are equal to or above the specified level will be emitted.

For details on the logging configuration options and corresponding environment variables, see [Logging options](/influxdb/v1.5/administration/config/#logging-options--logging/).

### Logo suppression

The `suppress-logo` option can be used to suppress the logo output that is printed when the program is started. The logo is always suppressed if `STDOUT` is not a TTY.
